<!doctype html> 
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>2026.01 Jeju Romantic Trip</title>
  <meta name="color-scheme" content="light" />
  <style>
    :root{
      --bg:#ffffff;
      --ink:#0f172a;
      --muted:#64748b;
      --card:#ffffff;
      --line:#e2e8f0;
      --shadow: 0 12px 30px rgba(2,6,23,.08);
      --shadow2: 0 8px 20px rgba(2,6,23,.06);

      --orange:#ff7a18;
      --orange2:#ff4d00;  /* ë” ë”¥í•œ ì˜¤ë Œì§€ */
      --green:#16a34a;
      --orangeGrad: linear-gradient(135deg, rgba(255,122,24,.98), rgba(255,77,0,.96));

      --soft: #f8fafc;
      --radius: 18px;
      --radius2: 14px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", Arial, "Helvetica Neue", sans-serif;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--ink);
      background:
        radial-gradient(1200px 800px at 10% -10%, rgba(255,122,24,.12), transparent 55%),
        radial-gradient(1000px 700px at 95% 0%, rgba(22,163,74,.10), transparent 52%),
        var(--bg);
    }
    a{color:inherit}
    .wrap{max-width:1100px;margin:0 auto;padding:28px 18px 80px}
    .topbar{
      display:flex;gap:12px;align-items:center;justify-content:space-between;
      position:sticky;top:0;z-index:50;
      background: linear-gradient(to bottom, rgba(255,255,255,.92), rgba(255,255,255,.75));
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(226,232,240,.7);
      padding:14px 12px;
    }
    .brand{display:flex;align-items:center;gap:10px}
    .badge{
      width:44px;height:44px;border-radius:14px;
      /* âœ… ì˜¤ë Œì§€ ê·¸ë¼ë°ì´ì…˜ìœ¼ë¡œ ë³€ê²½ */
      background: var(--orangeGrad);
      box-shadow: 0 12px 22px rgba(255,122,24,.22);
      display:grid;place-items:center;
      color:#fff;font-weight:800;
      letter-spacing:.5px;
    }
    .brand h1{font-size:16px;margin:0;line-height:1.2}
    .brand .sub{font-size:12px;color:var(--muted);margin-top:2px}
    .actions{display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:flex-end}
    .btn{
      border:1px solid var(--line);
      background: rgba(255,255,255,.85);
      box-shadow: var(--shadow2);
      color: var(--ink);
      padding:10px 12px;
      border-radius: 999px;
      font-size:13px;
      cursor:pointer;
      display:inline-flex;align-items:center;gap:8px;
      transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
      user-select:none;
    }
    .btn:hover{transform: translateY(-1px); border-color:#cbd5e1}
    .btn:active{transform: translateY(0px); box-shadow:none}
    .btn.primary{
      border:none;
      color:#fff;
      background: var(--orangeGrad);
    }
    .btn.ghost{background:transparent; box-shadow:none}
    .pill{
      font-family:var(--mono);
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.6);
      background:rgba(255,255,255,.7);
      color:#0f172a;
      display:inline-flex;align-items:center;gap:8px;
    }

    .hero{
      margin-top:16px;
      padding:22px 18px;
      border:1px solid rgba(226,232,240,.8);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.88), rgba(255,255,255,.72));
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }

    .heroGrid{display:grid;grid-template-columns: 1.2fr .8fr;gap:18px;align-items:stretch}
    @media (max-width:900px){
      .heroGrid{grid-template-columns:1fr}
      .actions{justify-content:flex-start}
    }
    .title{display:flex;flex-direction:column;gap:10px}
    .title h2{margin:0;font-size:28px;letter-spacing:-.5px;line-height:1.1}
    .title p{margin:0;color:var(--muted);font-size:14px;line-height:1.6}
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip{
      border:1px solid rgba(226,232,240,.9);
      background: rgba(248,250,252,.7);
      padding:8px 10px;
      border-radius:999px;
      font-size:12px;
      color:#0f172a;
      display:inline-flex;align-items:center;gap:8px;
    }
    .chip b{font-family:var(--mono);font-weight:700}
    .stats{display:grid;grid-template-columns: 1fr 1fr;gap:12px}
    .stat{
      border:1px solid rgba(226,232,240,.9);
      border-radius: var(--radius2);
      padding:12px 12px;
      background: rgba(255,255,255,.72);
      box-shadow: var(--shadow2);
      min-height:74px;
    }
    .stat .k{font-size:12px;color:var(--muted);display:flex;gap:8px;align-items:center}
    .stat .v{margin-top:6px;font-size:18px;font-weight:800;letter-spacing:-.3px}

    .progressWrap{margin-top:14px;display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .progress{
      flex:1;height:12px;border-radius:999px;
      background: rgba(226,232,240,.75);
      overflow:hidden;
      border:1px solid rgba(226,232,240,.9);
      min-width:220px;
    }
    .bar{
      height:100%;
      width:0%;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(255,122,24,.98), rgba(255,77,0,.96));
      transition: width .35s ease;
    }
    .small{font-size:12px;color:var(--muted)}

    .controls{margin-top:18px;display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:space-between}
    .tabs{display:flex;gap:10px;flex-wrap:wrap}
    .tab{
      padding:10px 12px;border-radius:999px;
      border:1px solid rgba(226,232,240,.9);
      background: rgba(255,255,255,.8);
      box-shadow: var(--shadow2);
      cursor:pointer;
      display:inline-flex;align-items:center;gap:10px;
      transition: transform .12s ease, border-color .12s ease;
      user-select:none;
      font-size:13px;
    }
    .tab:hover{transform:translateY(-1px);border-color:#cbd5e1}
    .tab.active{
      border-color: transparent;
      color:#fff;
      background: var(--orangeGrad);
    }
    .search{display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:flex-end}
    .input{position:relative}
    input[type="search"]{
      width:min(360px, 86vw);
      padding:10px 12px 10px 36px;
      border-radius: 999px;
      border:1px solid rgba(226,232,240,.95);
      background: rgba(255,255,255,.85);
      box-shadow: var(--shadow2);
      outline:none;
      font-size:13px;
    }
    .input .icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--muted);font-size:14px}

    .board{
      margin-top:14px;
      border:1px solid rgba(226,232,240,.9);
      border-radius: var(--radius);
      background: rgba(255,255,255,.7);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .dayHeader{
      padding:16px 16px;
      display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;
      border-bottom:1px solid rgba(226,232,240,.9);
      background: linear-gradient(180deg, rgba(248,250,252,.92), rgba(255,255,255,.6));
    }
    .dayHeader h3{margin:0;font-size:16px;letter-spacing:-.2px;display:flex;gap:10px;align-items:center}
    .dayHeader .meta{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    .hint{font-size:12px;color:var(--muted);display:flex;gap:8px;align-items:center}

    .timeline{padding:16px 12px 18px;display:grid;gap:12px;position:relative}

    .item::before{
      content:"";
      position:absolute;
      left:14px;
      top:0;
      bottom:0;
      width:2px;
      border-radius:99px;
      background: rgba(226,232,240,.6); /* ê¸°ë³¸ê°’ */
    }

    .item[data-tone="blue"]::before{
      background: linear-gradient(
        to bottom,
        rgba(59,130,246,.45),
        rgba(37,99,235,.35)
      );
    }

    .item[data-tone="green"]::before{
      background: linear-gradient(
        to bottom,
        rgba(34,197,94,.45),
        rgba(22,163,74,.35)
      );
    }

    .item[data-tone="yellow"]::before{
      background: linear-gradient(
        to bottom,
        rgba(234,179,8,.45),
        rgba(202,138,4,.35)
      );
    }

    .item[data-tone="orange"]::before{
      background: linear-gradient(
        to bottom,
        rgba(255,122,24,.45),
        rgba(255,77,0,.35)
      );
    }

    .item{display:grid;grid-template-columns: 56px 1fr;gap:12px;align-items:start;position:relative;padding-right:6px}
    .time{
      position:relative;
      font-family: var(--mono);
      font-size:12px;
      color:#0f172a;
      padding-top:4px;
      text-align:right;
      line-height:1.2;
    }
    .time2{
      color: inherit;
      font-size: inherit;
      margin-top: 2px;
    }

    .dot{
      position:absolute;
      left:22px; top:6px;
      width:14px;height:14px;border-radius:999px;
      /* âœ… ì ë„ ì˜¤ë Œì§€ ê·¸ë¼ë°ì´ì…˜ */
      background: var(--orangeGrad);
      border:3px solid rgba(255,255,255,.95);
      box-shadow: 0 10px 20px rgba(2,6,23,.10);
    }

    .card{
      border:1px solid rgba(226,232,240,.9);
      border-radius: var(--radius2);
      background: rgba(255,255,255,.86);
      box-shadow: var(--shadow2);
      overflow:hidden;
      transition: transform .12s ease, border-color .12s ease;
    }
    .card:hover{transform:translateY(-1px);border-color:#cbd5e1}
    .cardTop{padding:12px 12px 10px;display:flex;gap:10px;align-items:flex-start;justify-content:space-between}
    .main{display:flex;gap:10px;align-items:flex-start;min-width: 0}
    .emoji{
      width:34px;height:34px;border-radius:12px;
      display:grid;place-items:center;
      background: rgba(248,250,252,.9);
      border:1px solid rgba(226,232,240,.9);
      flex:0 0 auto;
      font-size:16px;
    }
    .txt{min-width:0}
    .txt .name{
      font-weight:800;
      letter-spacing:-.2px;
      display:flex;gap:8px;align-items:center;flex-wrap:wrap;
      margin-top:1px;
    }
    .tag{
      font-size:11px;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid rgba(226,232,240,.9);
      color: #0f172a;
      background: rgba(248,250,252,.8);
    }
    .tag.orange{border-color: rgba(255,122,24,.25); background: rgba(255,122,24,.10)}
    .tag.green{border-color: rgba(22,163,74,.25); background: rgba(22,163,74,.10)}
    /* âœ… [ìƒ‰ìƒ ê·œì¹™ ì¶”ê°€] êµí†µ=ë¸”ë£¨ / ì‹ë‹¹=ì˜ë¡œ / ì¹´í˜=ì˜¤ë Œì§€ / ìˆ™ì†Œ=ê·¸ë¦° */
    .tag.blue{border-color: rgba(59,130,246,.28); background: rgba(59,130,246,.10)}
    .tag.yellow{border-color: rgba(234,179,8,.28); background: rgba(234,179,8,.12)}

    /* âœ… ê²€ìƒ‰ ê²°ê³¼ì—ì„œ DAY í‘œì‹œìš© */
    .tag.day{
      border-color: rgba(148,163,184,.55);
      background: rgba(148,163,184,.14);
      font-family: var(--mono);
      letter-spacing: .2px;
    }

    .txt .subline{
      margin-top:6px;
      font-size:12px;
      color:var(--muted);
      line-height:1.5;
      overflow:hidden;
      text-overflow:ellipsis;
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient:vertical;
    }
    .rightBtns{display:flex;gap:8px;align-items:center;flex:0 0 auto}
    .mini{
      border:1px solid rgba(226,232,240,.9);
      background: rgba(255,255,255,.85);
      border-radius: 12px;
      padding:8px 10px;
      cursor:pointer;
      font-size:12px;
      display:inline-flex;align-items:center;gap:8px;
      user-select:none;
      text-decoration:none;
    }
    .mini:hover{border-color:#cbd5e1}
    .mini.done{
      border-color: rgba(22,163,74,.35);
      background: rgba(22,163,74,.10);
    }

    details{border-top:1px dashed rgba(226,232,240,.95);padding:10px 12px 12px;background: rgba(248,250,252,.55)}
    details summary{
      cursor:pointer;
      list-style:none;
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      font-size:12px;color:var(--muted);
    }
    details summary::-webkit-details-marker{display:none}
    .detailBody{margin-top:10px;display:grid;gap:10px;font-size:13px;line-height:1.6}
    .kv{
      display:grid;
      grid-template-columns: 110px 1fr;
      gap:10px;
      padding:10px 10px;
      border-radius:14px;
      border:1px solid rgba(226,232,240,.9);
      background: rgba(255,255,255,.8);
    }
    .kv .k{color:var(--muted);font-size:12px}
    .kv .v{font-weight:650}
    .kv code{font-family:var(--mono);font-size:12px;background:rgba(226,232,240,.6);padding:2px 6px;border-radius:8px}

    .footer{
      margin-top:18px;
      color:var(--muted);
      font-size:12px;
      display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;
    }
    .toast{
      position:fixed;left:50%;bottom:18px;transform:translateX(-50%);
      background: rgba(15,23,42,.92);
      color:#fff;
      padding:10px 12px;border-radius:999px;
      font-size:12px;
      box-shadow: 0 20px 40px rgba(2,6,23,.22);
      opacity:0;pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      z-index:99;
    }
    .toast.show{opacity:1;transform:translateX(-50%) translateY(-2px)}
    .kbd{
      font-family:var(--mono);
      border:1px solid rgba(226,232,240,.9);
      background: rgba(255,255,255,.85);
      padding:2px 6px;border-radius:8px;font-size:12px;color:#0f172a
    }

    /* âœ… [í›„ì ì ìš©] íƒ€ì„ë¼ì¸ ì (dot) & ë¼ì¸(line)ê¹Œì§€ íƒ€ì…ë³„ ì»¬ëŸ¬ */
    .item[data-tone="blue"] .dot{
      background: linear-gradient(135deg, rgba(59,130,246,.98), rgba(37,99,235,.96));
    }
    .item[data-tone="green"] .dot{
      background: linear-gradient(135deg, rgba(34,197,94,.98), rgba(22,163,74,.96));
    }
    .item[data-tone="yellow"] .dot{
      background: linear-gradient(135deg, rgba(234,179,8,.98), rgba(202,138,4,.96));
    }
    .item[data-tone="orange"] .dot{
      background: var(--orangeGrad);
    }

    /* ë¼ì¸ë„ dayë³„ë¡œ ë°”ë€Œê²Œ: timelineì— data-tone ì£¼ê³  ê·¸ê±¸ë¡œ ì˜¤ë²„ë¼ì´ë“œ */
    .timeline[data-tone="blue"]::before{
      background: linear-gradient(to bottom, rgba(59,130,246,.40), rgba(37,99,235,.30));
    }
    .timeline[data-tone="green"]::before{
      background: linear-gradient(to bottom, rgba(34,197,94,.40), rgba(22,163,74,.30));
    }
    .timeline[data-tone="yellow"]::before{
      background: linear-gradient(to bottom, rgba(234,179,8,.40), rgba(202,138,4,.30));
    }
    .timeline[data-tone="orange"]::before{
      background: linear-gradient(to bottom, rgba(255,122,24,.40), rgba(255,77,0,.30));
    }

    /* =========================================================
   ğŸ“± Mobile polish (copy & paste)
   ========================================================= */
@media (max-width: 600px){

  /* ì „ì²´ ì—¬ë°± ì •ë¦¬ */
  .wrap{
    padding:16px 12px 60px;
  }

  /* íˆì–´ë¡œ ì˜ì—­ */
  .hero{
    padding:16px 14px;
  }
  .title h2{
    font-size:22px;
    line-height:1.2;
  }
  .title p{
    font-size:13px;
    line-height:1.5;
  }

  /* íƒ­: ê°€ë¡œ ìŠ¤í¬ë¡¤ */
  .tabs{
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    gap:8px;
    padding-bottom:6px;
  }
  .tabs::-webkit-scrollbar{
    height:0;
  }
  .tab{
    flex:0 0 auto;
    white-space:nowrap;
  }

  /* í†µê³„ ì¹´ë“œ 1ì—´ */
  .stats{
    grid-template-columns:1fr;
    gap:10px;
  }
  .stat .v{
    font-size:16px;
  }

  /* íƒ€ì„ë¼ì¸ */
  .timeline{
    padding:12px 10px 14px;
  }
  .item{
    grid-template-columns:48px 1fr;
    gap:10px;
  }
  .time{
    font-size:11px;
    padding-top:2px;
    text-align:right;
  }
  .time .time2{
    font-size:10px;
    color:var(--muted);
    margin-top:2px;
    line-height:1.2;
  }

  /* ì¹´ë“œ */
  .cardTop{
    padding:11px 10px;
  }

  /* ë²„íŠ¼ */
  .rightBtns{
    gap:6px;
  }
  .mini{
    padding:8px 9px;
    font-size:12px;
    white-space:nowrap;
  }

  /* íŒíŠ¸ ë¬¸êµ¬ ìˆ¨ê¹€ */
  .hint{
    display:none;
  }
}

    /* =========================================================
   âœ… Mobile fixes (buttons wrap + note align + detail spacing)
   ========================================================= */
@media (max-width: 600px){

  /* 1) [ë„¤ì´ë²„ì§€ë„] / [ì²´í¬] ë²„íŠ¼: ëª¨ë°”ì¼ì—ì„  ì¤„ë°”ê¿ˆ(ì„¸ë¡œ ìŠ¤íƒ) */
  .cardTop{
    flex-direction: column;     /* í…ìŠ¤íŠ¸/ë²„íŠ¼ì„ ìœ„ì•„ë˜ë¡œ ë¶„ë¦¬ */
    align-items: stretch;
    gap: 10px;
  }

  .main{
    width: 100%;
  }

  .rightBtns{
    width: 100%;
    display: flex;
    flex-direction: column;     /* âœ… ë²„íŠ¼ ì¤„ë°”ê¿ˆ = ì„¸ë¡œë¡œ ìŒ“ê¸° */
    gap: 8px;
    align-items: stretch;
  }

  .mini{
    width: 100%;
    justify-content: center;    /* ë²„íŠ¼ í…ìŠ¤íŠ¸ ê°€ìš´ë° ì •ë ¬ */
    white-space: normal;        /* âœ… ì¤„ë°”ê¿ˆ í—ˆìš© */
  }

  /* 2) ì¼ì • note ì •ë ¬: ì˜¤ë¥¸ìª½ ë²„íŠ¼ ë•Œë¬¸ì— ì¢ì•„ì§€ì§€ ì•Šê²Œ(ìœ„ì—ì„œ cardTop ë¶„ë¦¬ë¡œ í•´ê²°)
        + ëª¨ë°”ì¼ì—ì„  2ì¤„ í´ë¨í”„ í•´ì œ(ì›í•˜ë©´ ìœ ì§€ ê°€ëŠ¥) */
  .txt .subline{
    -webkit-line-clamp: unset;  /* âœ… note ì˜ë¦¼/ì •ë ¬ ê¹¨ì§ ë°©ì§€ */
    display: block;
    overflow: visible;
    text-overflow: unset;
    margin-top: 8px;
  }

  /* 3) ë””í…Œì¼(ì£¼ì†Œ/ë©”ëª¨/ì˜ì—…ì‹œê°„) ê°€ìš´ë° ì—¬ë°± ê³¼ë‹¤: kv ê·¸ë¦¬ë“œ í­/íŒ¨ë”© ì¶•ì†Œ */
  .detailBody{
    gap: 8px;
  }

  .kv{
    grid-template-columns: 78px 1fr; /* âœ… ì™¼ìª½ ë¼ë²¨ í­ ì¤„ì„ */
    gap: 8px;
    padding: 10px 10px;             /* âœ… ë‚´ë¶€ ì—¬ë°± ì¤„ì„ */
  }

  .kv .k{
    font-size: 11px;                /* ë¼ë²¨ ì¡°ê¸ˆ ì‘ê²Œ */
    white-space: nowrap;            /* ë¼ë²¨ ì¤„ë°”ê¿ˆ ë°©ì§€ */
  }

  .kv .v{
    word-break: break-word;         /* ê¸´ ê¸€(ì˜ˆì•½ë²ˆí˜¸/ë©”ëª¨) ê¹¨ì§ ë°©ì§€ */
  }

  /* ë””í…Œì¼ ì•ˆ codeì¹©ì´ ë„ˆë¬´ ì»¤ ë³´ì´ë©´ */
  .kv code{
    font-size: 11px;
    padding: 2px 6px;
  }
}

    .kv .v{
  text-align: left;
  white-space: normal;
  word-break: keep-all;      /* âœ… í•œê¸€ ë‹¨ì–´ ë‹¨ìœ„ ì¤„ë°”ê¿ˆ */
  overflow-wrap: anywhere;   /* âœ… ì˜ˆì•½ë²ˆí˜¸/ê¸´ í† í°ë„ í™”ë©´ ë°–ìœ¼ë¡œ ì•ˆ íŠ */
  line-height: 1.45;
}

    
    @media (max-width: 600px){
  /* ë””í…Œì¼ ì˜ì—­ ìì²´ ì¢Œìš° íŒ¨ë”© ì¤„ì´ê¸° */
  details{ padding: 8px 10px 10px; }
  .detailBody{ gap: 8px; }

  /* kv ì¹´ë“œ: ë¼ìš´ë“œ/íŒ¨ë”©/ê°­/ì»¬ëŸ¼í­ ë” íƒ€ì´íŠ¸ */
  .kv{
    grid-template-columns: 64px 1fr;  /* âœ… ë¼ë²¨í­ ë” ì¤„ì„ */
    gap: 6px;                         /* âœ… ê°€ìš´ë° ê°„ê²© ì¤„ì„ */
    padding: 8px 10px;                /* âœ… ë‚´ë¶€ ì—¬ë°± ì¤„ì„ */
    border-radius: 12px;              /* âœ… ë¼ìš´ë“œ ì‚´ì§ ì¤„ì„ */
  }
  .kv .k{ font-size: 11px; }
  .kv .v{ font-size: 13px; }

  /* ì£¼ì†Œ/ì˜ì—… ê°™ì€ ê°’ì´ ê°€ìš´ë°ì²˜ëŸ¼ ë³´ì´ì§€ ì•Šê²Œ: ì™¼ìª½ ì •ë ¬ ê°•ì œ */
  .kv .v{ text-align:left; }
}


  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="badge">ğŸ¤</div>
        <div>
          <h1>Jeju Romantic Trip</h1>
        </div>
      </div>

      <div class="actions">
        <span class="pill">ğŸ“… <b>2026.01.17</b> â†’ <b>01.19</b></span>
        <button class="btn" id="copyLink">ğŸ”— ë§í¬ ë³µì‚¬</button>
        <button class="btn primary" id="resetDone">â™»ï¸ ì²´í¬ ë¦¬ì…‹</button>
      </div>
    </div>

    <section class="hero" aria-label="ìš”ì•½">
      <div class="heroGrid">
        <div class="title">
          <h2>ğŸŠ 2026ë…„ 1ì›”, ì œì£¼ 2ë°• 3ì¼</h2>
          <p> ë‹¤ì‹œ ìš°ë¦¬ ì† ì¡ì•˜ë˜ ê·¸ë‚ ì˜ ìš°ë¦° ëˆˆ ë§ì¶”ë©° <br> ìš°ë¦° ë‹¤ë¥¸ ê±´ ë‹¤ ì—†ì–´ë„ ë§ˆìŒë§Œ ìˆìŒ ë‹¤ í•  ìˆ˜ ìˆë‹¤ê³  ğŸµ</p>

          <div class="chips" id="chips"></div>

          <div class="progressWrap">
            <div class="progress" aria-label="ì§„í–‰ë¥ ">
              <div class="bar" id="bar"></div>
            </div>
            <div class="small"><span id="doneCount">0</span>/<span id="totalCount">0</span> done Â· <span id="pct">0%</span></div>
          </div>
        </div>

        <div class="stats">
          <div class="stat">
            <div class="k">âœˆï¸ Flights</div>
            <div class="v" id="statFlights">í‹°ì›¨ì´í•­ê³µ</div>
          </div>
          <div class="stat">
            <div class="k">ğŸš— Mobility</div>
            <div class="v" id="statMobility">ìºìŠ¤í¼ </div>
          </div>
          <div class="stat">
            <div class="k">ğŸ¨ Stay</div>
            <div class="v">ë‹¤ì¸ì˜¤ì„¸ì•„ë…¸ í˜¸í…”</div>
          </div>
          <div class="stat">
            <div class="k">ğŸŒŠ Main Spots</div>
            <div class="v">ì• ì›”</div>
          </div>
        </div>
      </div>

      <div class="controls">
        <div class="tabs" id="tabs"></div>

        <div class="search">
          <div class="input">
            <span class="icon">ğŸ”</span>
            <input id="q" type="search" placeholder="ê²€ìƒ‰: ì˜ˆ) í‘ë¼ì§€ / ì¸í”¼ë‹ˆí‹°í’€ / ê³µí•­ / â€¦" autocomplete="off" />
          </div>
          <button class="btn ghost" id="expandAll">ğŸ§¾ ë””í…Œì¼ ì „ì²´ í¼ì¹˜ê¸°</button>
        </div>
      </div>
    </section>

    <section class="board" aria-label="ì¼ì • ë³´ë“œ">
      <div class="dayHeader">
        <h3 id="dayTitle">â€”</h3>
        <div class="meta">
          <span class="hint">âœ¨ íŒ: ì¹´ë“œ í´ë¦­ â†’ <b>ë””í…Œì¼</b> í¼ì¹˜ê¸°</span>
        </div>
      </div>

      <div class="timeline" id="timeline"></div>
    </section>

    <div class="footer">
      <div>Made for sharing. Clean, hip, and actually useful.</div>
      <div>ë‹¨ì¶•í‚¤: <span class="kbd">/</span> ê²€ìƒ‰ í¬ì»¤ìŠ¤ Â· <span class="kbd">Esc</span> ê²€ìƒ‰ ì§€ìš°ê¸°</div>
    </div>
  </div>

  <div class="toast" id="toast">ë³µì‚¬ ì™„ë£Œ</div>

  <script>
    // ===== Data =====
    const trip = {
      title: "Jeju Romantic Trip",
      range: { start: "2026-01-17", end: "2026-01-19", tz: "Asia/Seoul" },
      highlights: [
        { emoji:"ğŸ§¡", text:"ë°”ë‹¤" },
        { emoji:"ğŸŠ", text:"ì¸í”¼ë‹ˆí‹°í’€" },
        { emoji:"ğŸ”¥", text:"í‘ë¼ì§€" },
        { emoji:"ğŸ¦", text:"ë”±ìƒˆìš°" },
        { emoji:"ğŸ’", text:"LOVE" },
        { emoji:"ğŸ¥–", text:"ë¹µ" },
      ],
      days: [
        {
          id: "d1",
          label: "DAY 1",
          dateText: "1/17 (í† )",
          titleEmoji: "ğŸ›¬",
          subtitle: "ë„ì°© Â· ë ŒíŠ¸ì¹´ Â· ì²´í¬ì¸",
          items: [
            {
              time: "18:35",
              time2: "19:50",
              emoji: "âœˆï¸",
              type: "êµí†µ",
              accent: "orange",
              title: "ê¹€í¬ â†’ ì œì£¼",
              note: "í‹°ì›¨ì´í•­ê³µ TW727 Â· ë¹„í–‰ 1ì‹œê°„ 15ë¶„",
              details: [
                ["í•­ê³µ", "í‹°ì›¨ì´í•­ê³µ <code>TW727</code>"],
                ["ì¶œë°œ/ë„ì°©", "18:35 â†’ 19:50 (ì˜ˆìƒ)"],
              ],
            },
            {
              time: "20:30",
              emoji: "ğŸš—",
              type: "êµí†µ",
              accent: "orange",
              title: "ë ŒíŠ¸ì¹´ í”½ì—…",
              note: "ìºìŠ¤í¼ F/L Â· ë ŒíŠ¸ì¹´í•˜ìš°ìŠ¤ 5êµ¬ì—­ 10ë²ˆ Â· íŠ¹ë³„í•œ ë ŒíŠ¸ì¹´",
              address: "ì œì£¼ì‹œ ê³µí•­ë¡œ1ê¸¸ 38",
              details: [
                ["ì—…ì²´ëª…", "íŠ¹ë³„í•œ ë ŒíŠ¸ì¹´"],
                ["ì˜ˆì•½ë²ˆí˜¸", "<code>RS1984048</code>"],
                ["ëŒ€ì—¬ê¸°ê°„", "2026.01.17(í† ) 20:00 â†’ 2026.01.19(ì›”) 15:00"],
                ["ì°¨ì¢…", "ìºìŠ¤í¼ F/L, íœ˜ë°œìœ "],
                ["ì…”í‹€íƒ‘ìŠ¹", "ë ŒíŠ¸ì¹´í•˜ìš°ìŠ¤ 5êµ¬ì—­ 10ë²ˆ"],
                ["ë©”ëª¨", "ë ŒíŠ¸ì¹´ ë§ˆê°ì‹œê°„ ì´í›„ ì¶œê³  ì‹œ ì¶”ê°€ê¸ˆ 10,000 (ëŒ€ì‹  ì…”í‹€ ì´ìš© ê°€ëŠ¥)"],
              ],
            },
            {
              time: "21:30",
              emoji: "ğŸ¨",
              type: "ìˆ™ì†Œ",
              accent: "green",
              title: "ë‹¤ì¸ì˜¤ì„¸ì•„ë…¸ í˜¸í…” ì²´í¬ì¸",
              note: "ë ŒíŠ¸ì¹´ íƒ€ê³  í˜¸í…”ë¡œ ì´ë™",
              address: "ì œì£¼ ì œì£¼ì‹œ ì• ì›”í•´ì•ˆë¡œ 394",
              details: [
                ["ì²´í¬ì¸", "21:30 ì „í›„"],
                ["íŒ", "ê³µí•­ì—ì„œ ì¶œë°œì‹œ í˜¸í…” ì£¼ë³€ì—ì„œ ê¸¸ì„ ëŒì•„ê°ˆ ìˆ˜ ìˆìœ¼ë‹ˆ, ë„¤ë¹„ê²Œì´ì…˜ ì„¤ì •ì‹œ í˜¸í…” ì¸ê·¼ ë„ì°©ìœ¼ë¡œ ì¶”ì²œ"],
              ],
            },
            {
              time: "22:00",
              emoji: "ğŸ¦",
              type: "ì‹ë‹¹",
              accent: "yellow",
              title: "ë‹»",
              note: "íƒì‹œë¡œ ì´ë™",
              address: "ì œì£¼ ì œì£¼ì‹œ ì• ì›”ì ê°€ë¬¸ë™ê¸¸ 41-2 2ì¸µ",
              details: [
                ["ì˜ì—…", "18:00~24:00"],
                ["ë©”ë‰´", "ë”±ìƒˆìš°ì‚¬ì‹œë¯¸, ì„±ê²Œê´€ìêµ¬ì´, ê³ ë“±ì–´íšŒ"],
              ],
            },
          ],
        },
        {
          id: "d2",
          label: "DAY 2",
          dateText: "1/18 (ì¼)",
          titleEmoji: "ğŸ§‘â€ğŸ¤â€ğŸ§‘",
          subtitle: "ì• ì›”/í˜‘ì¬ Â· ì²´í—˜ Â· ë“œë¼ì´ë¸Œ Â· í’€ Â· í‘ë¼ì§€",
          items: [
            {
              time: "09:00",
              emoji: "ğŸ²",
              type: "ì‹ë‹¹",
              accent: "orange",
              title: "ì‚¼ì¼í•´ì¥êµ­",
              note: "07:00~13:20",
              address: "ì œì£¼ ì œì£¼ì‹œ ì• ì›”ì í•˜ê·€9ê¸¸ 14",
              details: [
                ["ì˜ì—…", "07:00~13:20"],
              ],
            },
            {
              time: "10:30",
              emoji: "ğŸ’",
              type: "ì²´í—˜",
              accent: "green",
              title: "ë°˜ì§€ê³µë°© ì•„ëœ°ë¦¬ì—í˜¸ìˆ˜",
              note: "ì˜ë¯¸ìˆëŠ” ì»¤í”Œë§ ë§Œë“¤ê¸°",
              address: "ì œì£¼ ì œì£¼ì‹œ í˜‘ì¬1ê¸¸ 55-9",
              details: [
                ["ì˜ˆì•½", "10:30, ë„¤ì´ë²„ì˜ˆì•½ ì™„ë£Œ"],
              ],
            },
            {
              time: "12:00",
              emoji: "ğŸ",
              type: "ì¹´í˜",
              accent: "orange",
              title: "ë¸Œë ˆë“œë‹¤ì´ë¸Œ",
              note: "08:30~18:00 Â· ì„ì§„ì´ì˜ ë¹µê³µë¶€ë¶€",
              address: "ì œì£¼ ì œì£¼ì‹œ í•œë¦¼ì ê¸ˆëŠ¥5ê¸¸ 21",
              details: [
                ["ì˜ì—…", "08:30~18:00"],
                ["ë©”ë‰´", "ê¹œëƒ¥ì‹ë¹µ, í• ë¼í”¼ë‡¨ ì ë´‰ëµˆë¥´, ë¬´í™”ê³¼ ì‚¬ì›Œë„ìš°"],
              ],
            },
            {
              time: "13:00",
              emoji: "ğŸš—",
              type: "ë°”ë‹¤",
              accent: "green",
              title: "í•´ì•ˆë„ë¡œ ë“œë¼ì´ë¸Œ",
              note: "ë°˜ì§€ ê¸°ë‹¤ë¦¬ë©´ì„œ ì—¬ìœ ë¡œìš´ ì‹œê°„ ë³´ë‚´ê¸°",
              address: "",
              details: [
                ["ë©”ëª¨", "ì‚¬ì´ì¢‹ê²Œ ì§€ë‚´ê¸°"],
              ],
            },
            {
              time: "14:00",
              emoji: "ğŸ±",
              type: "ì‹ë‹¹",
              accent: "orange",
              title: "ìš°ë‹ˆë‹´",
              note: "15:00~16:00 ë¸Œë ˆì´í¬íƒ€ì„",
              address: "ì œì£¼ ì œì£¼ì‹œ ì• ì›”ì ê³ ë‚´ë¡œ13ê¸¸ 107 2ì¸µ",
              details: [
                ["ì˜ì—…", "09:00~19:30, ë¸Œë ˆì´í¬íƒ€ì„ 15:00~16:00 ì£¼ì˜"],
                ["ë©”ë‰´", "ì„±ê²Œë®ë°¥(ìš°ë‹ˆë®ë°¥), ì„±ê²Œë¯¸ì—­êµ­ê³¼ ì „ë³µê°€ë§ˆì†¥ë°¥"],
              ],
            },
            {
              time: "17:30",
              emoji: "ğŸŠ",
              type: "ìˆ™ì†Œ",
              accent: "green",
              title: "ì¸í”¼ë‹ˆí‹°í’€",
              note: "ìˆ¨ ì°¸ê³  Love Dive",
              address: "ë‹¤ì¸ì˜¤ì„¸ì•„ë…¸ í˜¸í…”",
              details: [
                ["ìš´ì˜", "10:00~12:00 / 15:00~17:00 / 17:30~19:30 / 20:00~21:30 (ì„±ì¸ì „ìš©)"],
                ["ë©”ëª¨", "ë°©ìˆ˜íŒ©, ì¹´ë°”ë‚˜"],
              ],
            },
            {
              time: "20:00",
              emoji: "ğŸ·",
              type: "ì‹ë‹¹",
              accent: "orange",
              title: "ê³ ì´ì •",
              note: "ì• ì›”í‘ë¼ì§€ ë³´ë¦¬ì§šë¶ˆêµ¬ì´",
              address: "ì œì£¼ ì œì£¼ì‹œ ì• ì›”ì ì• ì›”ë¡œ 6 ê³ ì´ì •",
              details: [
                ["ì˜ì—…", "11:00~24:00, 23:00 ë¼ìŠ¤íŠ¸ì˜¤ë”"],
                ["ì˜ˆì•½", "ìºì¹˜í…Œì´ë¸”ë¡œ ì˜ˆì•½í•˜ê¸°"],
                ["ë©”ë‰´", "í‘ë¼ì§€ëª©ì‚´, í‘ë¼ì§€ì‚¼ê²¹ì‚´, ê°€ë¸Œë¦¬ì‚´, ê·¼ê³ ê¸°"],
              ],
            },
            {
              time: "22:00",
              emoji: "ğŸ¢",
              type: "ì‹ë‹¹",
              accent: "green",
              title: "ì´ì¹˜ë‹ˆì¹˜",
              note: "í•¨ê»˜ ìˆ ë§ˆì‹œëŠ” ê³µê°„",
              address: "ì œì£¼ ì œì£¼ì‹œ ì• ì›”ì ì• ì›”ë¡œ11ê¸¸ 7 1ì¸µ ì´ì¹˜ë‹ˆì¹˜",
              details: [
                ["ì˜ì—…", "19:00~02:00, 01:00 ë¼ìŠ¤íŠ¸ì˜¤ë”"],
                ["ë©”ë‰´", "2ì¸: ê¸°ë³¸ì˜¤ë… / ê¸°ë³¸íŠ€ê¹€ / ê¸°ë³¸ì˜¤ë…+í˜¼ìˆ íŠ€ê¹€ ì£¼ë¬¸ê°€ëŠ¥"],
                ["ë©”ëª¨", "ê·¼ì²˜ì— ì„ í™”ë™ì™•ì‹­ë¦¬ë§‰ì°½êµ¬ì´ ìˆìŒğŸ¤«"],
              ],
            },
          ],
        },
        {
          id: "d3",
          label: "DAY 3",
          dateText: "1/19 (ì›”)",
          titleEmoji: "ğŸŒ´",
          subtitle: "ì²´í¬ì•„ì›ƒ Â· ì• ì›” ì‚°ì±… Â· ì‡¼í•‘ Â· ê³µí•­",
          items: [
            {
              time: "10:30",
              emoji: "ğŸ¨",
              type: "ìˆ™ì†Œ",
              accent: "green",
              title: "ì²´í¬ì•„ì›ƒ",
              note: "ì§ ì •ë¦¬í•˜ê³  ì—¬ìœ  ìˆê²Œ ì¶œë°œ",
              details: [
                ["ë¯¸ì…˜", "ê¶Œì†Œì—° ê¹¨ìš°ê¸°"],
              ],
            },
            {
              time: "11:00",
              emoji: "ğŸ²",
              type: "ì‹ë‹¹",
              accent: "orange",
              title: "ì„ìˆœì´ë„¤ë°¥ì§‘",
              note: "ëœ¨ë“¯í•˜ê²Œ í•´ì¥",
              address: "ì œì£¼ ì œì£¼ì‹œ ì• ì›”ì ê³½ì§€9ê¸¸ 8-1",
              details: [
                ["ì˜ì—…", "11:00~18:00"],
                ["ë©”ë‰´", "ëª¸êµ­, ê³ ì‚¬ë¦¬ìœ¡ê°œì¥"],
              ],
            },
            {
              time: "12:00",
              emoji: "ğŸš¶",
              type: "ë°”ë‹¤",
              accent: "green",
              title: "í•œë‹´í•´ì•ˆì‚°ì±…ë¡œ",
              note: "ë°”ëŒê³¼ ë°”ë‹¤ì™€ ìš°ë¦¬",
              address: "ì œì£¼ ì œì£¼ì‹œ ì• ì›”ì ê³½ì§€ë¦¬ 1359",
              details: [
                ["ë©”ëª¨", "ëŒê³ ë˜ ë³´ê³ ì‹¶ë‹¤ ğŸ¬ğŸ¬ğŸ¬"],
              ],
            },
            {
              time: "12:30",
              emoji: "ğŸŠ",
              type: "ì¹´í˜",
              accent: "orange",
              title: "ê·¤ê·¤ìŠ¤í† ì–´ ì• ì›”ì ",
              note: "ë¯¸í”¼ê°€ ê¸°ë‹¤ë¦¬ëŠ” ì†Œí’ˆìƒµ",
              address: "ì œì£¼ ì œì£¼ì‹œ ì• ì›”ì ì• ì›”ë¡œ1ê¸¸ 24-13",
              details: [
                ["ì˜ì—…", "10:30~19:30"],
                ["í¬ì¸íŠ¸", "ë¯¸í”¼ êµ¿ì¦ˆ"],
              ],
            },
            {
              time: "13:00",
              emoji: "â˜•",
              type: "ì¹´í˜",
              accent: "green",
              title: "ì¸ë””ê³ ì¸ë””ë“œ",
              note: "ë°”ë‹¤ ë³´ë©° ë§ˆì‹œëŠ” ë§›ìˆëŠ” ì»¤í”¼",
              address: "ì œì£¼ ì œì£¼ì‹œ ì• ì›”ì ì• ì›”í•´ì•ˆë¡œ 204",
              details: [
                ["ì˜ì—…", "11:00~19:00, ì¼ìš”ì¼ íœ´ë¬´"],
                ["ë©”ë‰´", "ë”¥ë¹„ì—”ë‚˜, ë°”ë‹ë¼ ì¸ë¨¸ë¼ë–¼, ëª¨ì¹´í”Œë¡œíŠ¸, ë§ì°¨ ë¸”ë‘, ëª¨ì¹´ ì»¤ìŠ¤í„°ë“œ"],
              ],
            },
            {
              time: "14:00",
              emoji: "ğŸš—",
              type: "êµí†µ",
              accent: "green",
              title: "ë ŒíŠ¸ì¹´ ë°˜ë‚©",
              note: "ê³µí•­ ê·¼ì²˜ë¡œ ì—¬ìœ  ìˆê²Œ ì´ë™",
              address: "ì œì£¼ì‹œ ê³µí•­ë¡œ1ê¸¸ 38",
              details: [
                ["ë°˜ë‚©", "14:00 ì „í›„"],
              ],
            },
            {
              time: "14:30",
              emoji: "ğŸ¦ª",
              type: "ì‹ë‹¹",
              accent: "orange",
              title: "ë„ë‘í•´ë…€ì˜ì§‘",
              note: "ëŒì•„ê°€ê¸° ì „ ë§ˆì§€ë§‰ ë§Œì°¬",
              address: "ì œì£¼ ì œì£¼ì‹œ ì—°ì‹ ë¡œ 51",
              details: [
                ["ì˜ì—…", "10:00~20:00, 15:30~17:00 ë¸Œë ˆì´í¬íƒ€ì„ "],
                ["ë©”ë‰´", "ì „ë³µì£½, ë¬¼íšŒ"],
              ],
            },
            {
              time: "17:10",
              time2: "18:25",
              emoji: "âœˆï¸",
              type: "êµí†µ",
              accent: "orange",
              title: "ì œì£¼ â†’ ê¹€í¬",
              note: "í‹°ì›¨ì´í•­ê³µ TW724 Â· ë¹„í–‰ 1ì‹œê°„ 15ë¶„",
              details: [
                ["í•­ê³µ", "í‹°ì›¨ì´í•­ê³µ <code>TW724</code>"],
                ["ì¶œë°œ/ë„ì°©", "17:10 â†’ 18:25 (ì˜ˆìƒ)"],
              ],
            },
          ],
        },
      ],
    };

    // ===== Helpers =====
    const $ = (sel, el=document) => el.querySelector(sel);
    const $$ = (sel, el=document) => Array.from(el.querySelectorAll(sel));
    const toast = (msg="ì™„ë£Œ") => {
      const t = $("#toast");
      t.textContent = msg;
      t.classList.add("show");
      clearTimeout(window.__t);
      window.__t = setTimeout(()=>t.classList.remove("show"), 1300);
    };

    // âœ… ë„¤ì´ë²„ ì§€ë„ ê²€ìƒ‰ URL (êµ¬ê¸€ ì§€ë„ ì œê±°)
    const encodeNaverMap = (q) => "https://map.naver.com/v5/search/" + encodeURIComponent(q);

    // LocalStorage for "done"
    const STORE_KEY = "jeju_trip_done_v1";
    const loadDone = () => { try{ return JSON.parse(localStorage.getItem(STORE_KEY) || "{}"); } catch(e){ return {}; } };
    const saveDone = (obj) => localStorage.setItem(STORE_KEY, JSON.stringify(obj));

    // ===== UI State =====
    let activeDay = trip.days[0].id;
    let done = loadDone();
    let expandAll = false;

    // ===== Build chips =====
    const chips = $("#chips");
    trip.highlights.forEach(h=>{
      const el = document.createElement("span");
      el.className = "chip";
      el.innerHTML = `${h.emoji} ${h.text}`;
      chips.appendChild(el);
    });

    // ===== Tabs =====
    const tabs = $("#tabs");
    trip.days.forEach((d, idx)=>{
      const el = document.createElement("button");
      el.className = "tab" + (idx===0 ? " active":"");
      el.type = "button";
      el.dataset.day = d.id;
      el.innerHTML = `${d.titleEmoji} <b>${d.label}</b> `;
      el.addEventListener("click", ()=>{
        activeDay = d.id;
        setHash(activeDay);
        render();
      });
      tabs.appendChild(el);
    });

    function setHash(dayId){
      try{ history.replaceState(null, "", "#"+dayId); }catch(e){}
    }
    function readHash(){
      const h = (location.hash||"").replace("#","").trim();
      if(trip.days.some(d=>d.id===h)) activeDay = h;
    }

    /* âœ… [ìƒ‰ìƒ ê·œì¹™] type ê¸°ë°˜ tone/tagClass ê³„ì‚° (ë°©ê¸ˆ ì–˜ê¸°í•œ ìƒ‰ìƒë§Œ ë°˜ì˜) */
    function typeToTone(typeStr){
      const t = (typeStr || "").trim();
      if(t.includes("êµí†µ") || t.includes("ì´ë™")) return "blue";          // [êµí†µ] ë¸”ë£¨
      if(t.includes("ìˆ™ì†Œ") || t.includes("í˜¸í…”")) return "green";         // [ìˆ™ì†Œ] ê·¸ë¦°
      if(t.includes("ì¹´í˜") || t.includes("ë² ì´ì»¤ë¦¬")) return "orange";    // [ì¹´í˜] ì˜¤ë Œì§€
      if(t.includes("ì‹ë‹¹") || t.includes("ì‹ì‚¬")) return "yellow";        // [ì‹ë‹¹/ì‹ì‚¬] ì˜ë¡œ
      return "orange"; // fallback
    }
    function toneToTagClass(tone){
      return tone ? `tag ${tone}` : "tag";
    }

    // ===== Render =====
    function render(){
      $$(".tab").forEach(t=>t.classList.toggle("active", t.dataset.day===activeDay));

      const day = trip.days.find(d=>d.id===activeDay);

      const qRaw = ($("#q").value || "").trim();
      const q = qRaw.toLowerCase();

      // âœ… ê²€ìƒ‰ì–´ê°€ ìˆìœ¼ë©´ "ì „ì²´ ì¼ì • ê²€ìƒ‰" ëª¨ë“œ
      const isSearching = !!qRaw;

      // í—¤ë” í…ìŠ¤íŠ¸: ê²€ìƒ‰ ì¤‘ì´ë©´ ì „ì²´ ê²€ìƒ‰(ê²°ê³¼ ì—†ìœ¼ë©´ ê³µë°± ì²˜ë¦¬)
      $("#dayTitle").textContent = isSearching
        ? `ğŸ” ì „ì²´ ì¼ì • ê²€ìƒ‰ Â· â€œ${qRaw}â€`
        : `${day.titleEmoji} ${day.label} Â· ${day.dateText} `;

      const tl = $("#timeline");
      tl.innerHTML = "";

      // âœ… ê²€ìƒ‰ì–´ê°€ ìˆìœ¼ë©´ 3ì¼ ì „ì²´ í’€ì—ì„œ ê²€ìƒ‰, ì—†ìœ¼ë©´ ì„ íƒëœ dayë§Œ
      const pool = isSearching
        ? trip.days.flatMap(d => d.items.map((it, idx) => ({ day: d, it, idx })))
        : day.items.map((it, idx) => ({ day, it, idx }));

      const filtered = pool.filter(({ it })=>{
        if(!isSearching) return true;
        const hay = [
          it.time, it.time2, it.title, it.note, it.type, it.address,
          ...(it.details||[]).flat()
        ].join(" ").toLowerCase();
        return hay.includes(q);
      });

      // âœ… ê²€ìƒ‰ ê²°ê³¼ê°€ 0ê°œë©´ "ì•„ë¬´ê²ƒë„ ì•ˆ ë‚˜ì˜¤ê²Œ" (íƒ€ì„ë¼ì¸ ë¹„ì›€)
      if(isSearching && filtered.length === 0){
        // í—¤ë”ë„ ë¹„ìš°ê³  ì‹¶ìœ¼ë©´ ì•„ë˜ í•œ ì¤„ ìœ ì§€ (ì›ì¹˜ ì•Šìœ¼ë©´ ì§€ì›Œë„ ë¨)
        $("#dayTitle").textContent = "";
        renderProgress();
        return;
      }

      /* âœ… dayì˜ "ëŒ€í‘œ tone"ìœ¼ë¡œ íƒ€ì„ë¼ì¸ ë¼ì¸ ìƒ‰ ê²°ì • (ì²« ì¼ì • ê¸°ì¤€) */
      const dayTone = typeToTone((day.items[0] && day.items[0].type) ? day.items[0].type : "");
      tl.dataset.tone = dayTone;

      filtered.forEach(({ day: d, it, idx })=>{
        const key = `${d.id}__${idx}__${it.title}`;
        const isDone = !!done[key];

        const row = document.createElement("div");
        row.className = "item";

        const tone = typeToTone(it.type);
        row.dataset.tone = tone;

        const time = document.createElement("div");
        time.className = "time";
        time.innerHTML = `
          <div>${it.time || ""}</div>
          <div class="time2">${it.time2 ? "â†’ "+it.time2 : ""}</div>
        `;

        const card = document.createElement("div");
        card.className = "card";

        const tagClass = toneToTagClass(tone);

        const hasAddress = !!(it.address && it.address.trim());
        const mapUrl = hasAddress ? encodeNaverMap(it.address.trim()) : ""; 
        const mapBtnHtml = hasAddress
           ? `<a class="mini" data-act="map" href="${mapUrl}" target="_blank" rel="noopener">ğŸ“ ë„¤ì´ë²„ì§€ë„</a>`
           : "";

        const dayBadge = isSearching ? `<span class="tag day">${d.label}</span>` : "";




        card.innerHTML = `
          <div class="cardTop">
            <div class="main">
              <div class="emoji">${it.emoji || "âœ¨"}</div>
              <div class="txt">
                <div class="name">
                  <span>${it.title}</span>
                  ${dayBadge}
                  <span class="${tagClass}">${it.type || "ì¼ì •"}</span>
                </div>
                <div class="subline">${it.note || ""}</div>
              </div>
            </div>

            
            const mapBtnHTML = it.address && it.address.trim()
              ? `<a class="mini" data-act="map" href="${mapUrl}" target="_blank" rel="noopener" title="ë„¤ì´ë²„ì§€ë„">
                    <span class="ico">ğŸ“</span><span class="lbl">ì§€ë„</span>
                </a>`
              : ``;

const doneLabel = isDone ? "ì²´í¬ë¨" : "ì²´í¬";
const doneIcon  = isDone ? "âœ…" : "â˜‘ï¸";


            <div class="rightBtns">
              ${mapBtnHTML}
              <button class="mini ${isDone ? "done":""}" data-act="done" title="ì™„ë£Œ ì²´í¬">
                <span class="ico">${doneIcon}</span><span class="lbl">${doneLabel}</span>
                </button>
            </div>


          </div>

          <details ${expandAll ? "open":""}>
            <summary>
              <span>ë””í…Œì¼ ë³´ê¸°</span>
              <span>â†•ï¸</span>
            </summary>
            <div class="detailBody">
              ${it.address ? `
                <div class="kv">
                  <div class="k">ì£¼ì†Œ</div>
                  <div class="v">${it.address}</div>
                </div>` : ""
              }
              ${it.details && it.details.length ? it.details.map(([k,v])=>`
                <div class="kv">
                  <div class="k">${k}</div>
                  <div class="v">${v}</div>
                </div>
              `).join("") : `
                <div class="kv">
                  <div class="k">ë©”ëª¨</div>
                  <div class="v">í•„ìš”í•œ ë””í…Œì¼ë§Œ ë”±. ë‚˜ë¨¸ì§€ëŠ” í˜„ì§€ì—ì„œ ê°ìœ¼ë¡œë„ OK.</div>
                </div>
              `}
            </div>
          </details>
        `;

        card.querySelector('[data-act="done"]').addEventListener("click", (e)=>{
          e.preventDefault();
          e.stopPropagation();
          done[key] = !done[key];
          saveDone(done);
          renderProgress();
          render();
        });

        card.querySelector(".cardTop").addEventListener("click", ()=>{
          const det = card.querySelector("details");
          det.open = !det.open;
        });

        row.appendChild(time);
        row.appendChild(card);
        tl.appendChild(row);
      });

      renderProgress();
    }

    function renderProgress(){
      const allKeys = [];
      trip.days.forEach(d=>{
        d.items.forEach((it, idx)=> allKeys.push(`${d.id}__${idx}__${it.title}`));
      });
      const total = allKeys.length;
      const doneCount = allKeys.filter(k=>!!done[k]).length;
      const pct = total ? Math.round((doneCount/total)*100) : 0;

      $("#totalCount").textContent = total;
      $("#doneCount").textContent = doneCount;
      $("#pct").textContent = pct + "%";
      $("#bar").style.width = pct + "%";

      const foodCount = trip.days.flatMap(d=>d.items)
        .filter(i=>(i.type||"").includes("ì‹ì‚¬") || (i.type||"").includes("ì¹´í˜") || (i.type||"")==="ì¹´í˜/ë² ì´ì»¤ë¦¬")
        .length;
      // ì›ë˜ ì½”ë“œì— #statFoodê°€ ì—†ì–´ì„œ ê·¸ëŒ€ë¡œ ë‘ë©´ ì—ëŸ¬ ë‚  ìˆ˜ ìˆìŒ
      // (ë„¤ ì½”ë“œ ìœ ì§€ ëª©ì ìƒ ì•„ë˜ ë¼ì¸ì€ ì›ë¬¸ ìœ ì§€í–ˆì§€ë§Œ, ì‹¤ì œë¡œëŠ” idê°€ ì—†ìœ¼ë©´ ì£¼ì„ ì²˜ë¦¬ ê¶Œì¥)
      // $("#statFood").textContent = foodCount;
    }

    // ===== Actions =====
    $("#copyLink").addEventListener("click", async ()=>{
      try{
        setHash(activeDay);
        await navigator.clipboard.writeText(location.href);
        toast("ğŸ”— ë§í¬ ë³µì‚¬ ì™„ë£Œ");
      }catch(e){
        toast("ë³µì‚¬ ì‹¤íŒ¨â€¦ ë¸Œë¼ìš°ì € ê¶Œí•œ í™•ì¸!");
      }
    });

    $("#resetDone").addEventListener("click", ()=>{
      done = {};
      saveDone(done);
      toast("â™»ï¸ ì²´í¬ ë¦¬ì…‹");
      renderProgress();
      render();
    });

    $("#expandAll").addEventListener("click", ()=>{
      expandAll = !expandAll;
      toast(expandAll ? "ğŸ§¾ ë””í…Œì¼: ì „ì²´ í¼ì¹¨" : "ğŸ§¾ ë””í…Œì¼: ê¸°ë³¸");
      render();
    });

    $("#q").addEventListener("input", ()=>render());
    window.addEventListener("keydown", (e)=>{
      if(e.key === "/"){
        e.preventDefault();
        $("#q").focus();
      }
      if(e.key === "Escape"){
        if(document.activeElement === $("#q") || $("#q").value){
          $("#q").value = "";
          $("#q").blur();
          render();
          toast("ê²€ìƒ‰ ì´ˆê¸°í™”");
        }
      }
    });

    // ===== Init =====
    readHash();
    setHash(activeDay);
    render();
  </script>
</body>
</html>



